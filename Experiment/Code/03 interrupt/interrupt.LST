C51 COMPILER V9.02   INTERRUPT                                                             10/24/2022 19:29:55 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE INTERRUPT
OBJECT MODULE PLACED IN interrupt.OBJ
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE interrupt.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include <reg51.h>
   2          unsigned char code led_num[16] = {0x3f, 0x06, 0x5b, 0x4f, 0x66, 0x6d, 0x7d, 0x07, 0x7f, 0x6f, 0x77, 0x7c, 
             -0x39, 0x5e, 0x79, 0x71};
   3          bit flag = 0;
   4          
   5          void timer0_config()  // 11.0592MHz
   6          {
   7   1              TMOD &= 0xf0;
   8   1              TMOD |= 0x02;  // ¼ÆÊýÆ÷0¹¤×÷ÔÚÄ£Ê½2
   9   1              TR0 = 1;  // ¼ÆÊýÆ÷0¹¤×÷
  10   1              TH0 = 0x1a;  // Ã¿´ÎÒç³öºóÏòµÍ°ËÎ»ËÍ£¬ÎÞÐèÃ¿´ÎÖØÐÂ¸³ÖµTH0,TL0£¬ÊÊÓÃÎ¢Ãë¼¶±ð¼ÆÊý£¬½ÚÊ¡ÖØÐÂ¸³ÖµTH0,TL0µÄÈí¼
             -þ¼¶±ðÊ±¼ä
  11   1              TL0 = 0x1a;  // ³õÊ¼¼ÆÊý 250us
  12   1      }
  13          
  14          void main()
  15          {
  16   1              unsigned char i = 0;
  17   1      
  18   1              EA = 1; // ÖÐ¶Ï×Ü¿ª¹Ø
  19   1              ET0 = 1;  // ¶¨Ê±Æ÷0ÖÐ¶Ï·Ö¿ª¹Ø
  20   1              timer0_config();
  21   1              while(1)
  22   1              {
  23   2                      P0 = led_num[i];
  24   2                      if (flag == 1)
  25   2                      {
  26   3                              i++;
  27   3                              if (i == 16) i = 0;
  28   3                              flag = 0;
  29   3                      }
  30   2              }
  31   1      }
  32          
  33          void timer0_250us() interrupt 1
  34          {
  35   1      
  36   1              static unsigned int count = 0;
  37   1      
  38   1              count++;        
  39   1              if (count == 4000)  // 1s
  40   1              {
  41   2                      flag = 1;
  42   2                      count = 0;
  43   2              }
  44   1      
  45   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     77    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
C51 COMPILER V9.02   INTERRUPT                                                             10/24/2022 19:29:55 PAGE 2   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
