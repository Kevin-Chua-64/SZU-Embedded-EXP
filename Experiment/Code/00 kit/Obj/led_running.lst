C51 COMPILER V9.02   LED_RUNNING                                                           12/16/2022 23:19:34 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE LED_RUNNING
OBJECT MODULE PLACED IN ..\Obj\led_running.obj
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE ..\Api\led_running.c BROWSE INCDIR(..\Api;..\Public;..\User) DEBUG OBJECTEX
                    -TEND PRINT(..\Obj\led_running.lst) OBJECT(..\Obj\led_running.obj)

line level    source

   1          #include "led_running.h"
   2          
   3          /*******************************
   4          函数名：led_run
   5          函数功能：流水灯
   6          函数形参：u8 dir，u8 ms
   7          函数返回值：void
   8          备注：dir为1：顺流
   9                             2：逆流
  10                             3：左右横跳
  11                    时间间隔为ms
  12          *******************************/
  13          void led_run(unsigned char dir, unsigned char ms)
  14          {
  15   1              static unsigned char i=0;
  16   1              if (dir==0){  // up
  17   2                      P2 = (0xfe<<i)|(0xfe>>(8-i));
  18   2                      if (i==8) i=0;
  19   2              }else if (dir==1){  // down
  20   2                      P2 = (0x7f>>i)|(0x7f<<(8-i));
  21   2                      if (i==8) i=0;
  22   2              }else if (dir==2){  // up and down
  23   2                      if (i<7)
  24   2                              P2 = (0xfe<<i)|(0xfe>>(8-i));
  25   2                      else
  26   2                              P2 = (0x7f>>(i-7))|(0x7f<<(8-(i-7)));
  27   2                      if (i==14) i=0;
  28   2              }
  29   1              
  30   1              delay_ms(ms);
  31   1              i++;    
  32   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    198    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
